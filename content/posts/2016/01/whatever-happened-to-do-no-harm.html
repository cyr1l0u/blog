---
title: "Whatever Happened to “Do No Harm”?"
date: "2016-01-25T08:13:00.000+01:00"
tags: [ firewalls,security,TCP ]
---

<p>A long time ago in a podcast far, far away one of the hosts saddled his pony unicorn and started explaining how stateful firewalls work:</p>
<blockquote class="cite">Stateful firewall is a way to imply trust&hellip; because it&#x2019;s possible to hijack somebody&#x2019;s flows [&hellip;] and if the application changes its port numbers&hellip; my source port changes when I&#x2019;m communicating with my web server - even though I&#x2019;m connected to port 80, my source port might change from X to Y. Once I let the first one through, I need to track those port changes [&hellip;]</blockquote>
<p><strong>WAIT, WHAT?</strong> Was that guy really trying to say &ldquo;<em>someone can change a source port number of an established TCP session</em>&rdquo;?<!--more--></p>
<p>For the record, you <strong>cannot </strong>change the port numbers of an established TCP session, and the only way to get different port numbers is by going through another TCP SYN exchange, which would be treated as a totally separate TCP session by either a stateful firewall or host TCP stack.</p>
<p class="info">Also, it&#x2019;s pretty hard to hijack somebody&#x2019;s flows unless you&#x2019;re in the forwarding path, in which case it&#x2019;s pretty much game over anyway and the stateful firewalls can&#x2019;t do a thing to stop you.</p>
<p>I totally understand that people make blunders in live sessions (so do I). What I can&#x2019;t understand is that nobody jumped in and corrected it, or that it didn&#x2019;t get removed during the final editing.</p>
<h4>Why do I care?</h4><p>It&#x2019;s very simple &ndash; if you have a significant number of readers/listeners who trust you as the source of their technical knowledge, you cannot afford to leave the obvious errors like this one lurking in the wild, because someone might actually believe you without double-checking your claims against something like <em>TCP/IP for Dummies</em>.</p>
<p>Or, in short, I don&#x2019;t really care what you do, but please do no harm.</p>
<h4>Update 2016-01-29</h4><p><a href="http://etherealmind.com/response-doing-no-harm/">Here</a>&#x2019;s the response from Greg Ferro&hellip; and I totally agree with his summary that <em>security needs a LOT of unnecessary explaining for reasons I don&#x2019;t entirely understand</em>.</p> 

