---
title: "Simple EIGRP in MPLS VPN networks"
date: "2008-06-26T11:42:00.000+02:00"
tags: [ EIGRP,BGP,MPLS VPN ]
---

A few days ago I've been involved in an interesting EIGRP-within-MPLS/VPN troubleshooting session. I wanted to reproduce the behavior in the lab, so I set up a simple EIGRP lab &hellip; and realized that it's been a while since we wrote the <a href="http://www.amazon.com/gp/product/1587051125?ie=UTF8&tag=cisioshinandt-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=1587051125">MPLS and VPN Architectures, Volume II</a>, which covers EIGRP used as PE-CE routing protocol. To make things more interesting, a few details have changed in the meantime; you have to configure the following features to get EIGRP running within MPLS/VPN environment:<ul><li>The autonomous-system command within the VRF address family is mandatory, even if the VRF AS number matches the EIGRP process number.</li>
<li>The default BGP-to-EIGRP redistribution metric has to be configured, otherwise remote EIGRP routes will not be redistributed even though they have EIGRP metric encoded in extended BGP communities.</li>
<li>Things work best if you disable auto-summary on PE-routers.</li>
</ul>
<p>You can find more details and complete configuration examples in the <a href="http://wiki.nil.com/EIGRP_in_MPLS_VPN_networks">EIGRP in MPLS VPN networks</a> article I wrote in the <a href="http://wiki.nil.com/">CT<sup>3</sup> wiki</a>.</p>

