---
url: /2008/08/reverse-lookup-of-ospf-router-ids.html
title: "Reverse lookup of OSPF router IDs"
date: "2008-08-20T07:25:00.000+02:00"
tags: [ OSPF ]
---

<div class="bloggerBody"><p>If you store the reverse mapping for the routers’ loopback interfaces in DNS or configure the name-to-address mappings with the <strong>ip</strong><strong> host </strong>commands, you can use the <strong>ip ospf name-lookup </strong>global configuration command to display the OSPF router IDs as router names.</p>
<!--more--><p>For example, I’ve configured names of all provider routers’ loopback interfaces in one of my MPLS VPN labs:</p>
<pre class="code">P#<strong>show</strong><strong> run | </strong><strong>inc</strong><strong> host</strong><br/>ip host PE-A 10.0.1.1<br/>ip host PE-B 10.0.1.2<br/>ip host PE-C 10.0.1.5<br/>ip host P 10.0.1.6</pre><p>After that, I’ve configured the <strong>ip</strong><strong> </strong><strong>ospf</strong><strong> name-lookup </strong>command and the OSPF show commands started printing names instead of IP addresses:</p>
<pre class="code">P#<strong>show</strong><strong> </strong><strong>ip</strong><strong> </strong><strong>ospf</strong><strong> database</strong><br/><br/>            OSPF Router with ID (10.0.1.6) (Process ID 1)<br/><br/>                Router Link States (Area 0)<br/><br/>Link ID    ADV Router   Age   Seq#       Checksum Link count<br/>10.0.1.1   PE-A         56    0x80000002 0x000C1F 3<br/>10.0.1.2   PE-B         57    0x80000002 0x003FD8 3<br/>10.0.1.5   PE-C         59    0x80000002 0x0027CF 3<br/>10.0.1.6   P            53    0x80000003 0x00B675 7</pre><p>Unfortunately, this functionality does not implement its full potential. For example, when examining router link states, the router ID is displayed as name, but the adjacent router IDs are not. Too bad, you still have to know the router IDs by heart .</p>
<pre class="code">P#<strong>show</strong><strong> </strong><strong>ip</strong><strong> </strong><strong>ospf</strong><strong> database router 10.0.1.6</strong><br/><br/>            OSPF Router with ID (10.0.1.6) (Process ID 1)<br/><br/>                Router Link States (Area 0)<br/><br/>  LS Type: Router Links<br/>  Link State ID: 10.0.1.6<br/>  Advertising Router: P<br/>  LS Seq Number: 80000003<br/><br/>    Link connected to: another Router (point-to-point)<br/>     (Link ID) Neighboring Router ID: 10.0.1.5<br/>     (Link Data) Router Interface address: 10.0.7.30<br/>      Number of MTID metrics: 0<br/>       TOS 0 Metrics: 64<br/><br/>    Link connected to: another Router (point-to-point)<br/>     (Link ID) Neighboring Router ID: 10.0.1.2<br/>     (Link Data) Router Interface address: 10.0.7.18<br/>      Number of MTID metrics: 0<br/>       TOS 0 Metrics: 64<br/><br/>    Link connected to: another Router (point-to-point)<br/>     (Link ID) Neighboring Router ID: 10.0.1.1<br/>     (Link Data) Router Interface address: 10.0.7.10<br/>      Number of MTID metrics: 0<br/>       TOS 0 Metrics: 64 </pre></div>

