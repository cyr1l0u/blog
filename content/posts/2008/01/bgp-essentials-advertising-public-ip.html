---
title: "BGP Essentials: Advertising public IP prefixes into the Internet"
date: "2008-01-23T06:53:00.000+01:00"
tags: [ BGP ]
---

<p>The routing information you source into the public Internet with BGP should be as accurate and stable as possible. The best way to achieve this goal is to statically configure the IP prefixes you’ve been allocated on your core routers and advertise them into BGP: </p>
<ul><li>BGP will only advertise an IP prefix if a matching entry is found in the IP routing table. To ensure the IP prefix you want to advertise is always present, configure an IP static route to <strong>null</strong> interface, unless you're advertising a connected interface (example: Internet edge router on a DMZ segment).</li>
<li>Most public IP prefixes advertised today do not fall on the <a href="http://en.wikipedia.org/wiki/Classful">classful network boundary</a>. To advertise a classless prefix, you have to configure the prefix and the mask in the BGP routing process.</li>
</ul>
<p class='important'><strong>Important:</strong> In large networks you should advertise your IP prefixes from your core routers, not from the edges of your network. If an edge router loses its upstream link to the network core but still advertises your IP address space, all the traffic attracted by it will be blackholed. In enterprise networks using BGP for Internet multihoming, it might be safe to advertise directly connected interfaces on Internet edge routers.</p>
<p>You can set additional BGP attributes on the IP prefix you’re advertising with a <strong>route-map</strong> attached to the network statement. For example, the following configuration could be used on one of your core routers to advertise IP prefix 172.16.128.0/18 and attach a BGP community to it:</p>
<pre class='code'>ip route 172.16.128.0 255.255.192.0 Null0<br />!<br />router bgp 65001<br />&nbsp;network 172.16.128.0 mask 255.255.192.0 route-map SetCommunity<br />!<br />route-map SetCommunity permit 10<br />&nbsp;set community 65001:101 additive</pre><p class='note'>If you're looking for more in-depth BGP knowledge, try our <a href="http://www.nil.si/ls/BS_BGP32?showlp">Configuring BGP on Cisco Routers</a> <a href="http://www.nil.si/C1256F0A00429755/html/bs_portfolio">e-learning solution</a>. If you just need to enhance your hands-on skill, the <a href="http://www.nil.si/ls/LB_RL_BGP32?showlp">BGP Remote Lab Bundle</a> is the perfect choice.</p>

