---
title: "To ULA or not to ULA, That’s the Question"
date: "2013-09-30T07:57:00.000+02:00"
tags: [ IPv6,NAT ]
---

<p>Ed Horley, an awesome IPv6 geek I had the privilege to meet at NFD6, wrote an interesting blog post <a href="http://www.howfunky.com/2013/09/ipv6-unique-local-address-or-ula-what.html">arguing against IPv6 ULA usage</a> (particularly when combined with NPT66). We would all love to get rid of NAT, however ...<!--more--></p>
<h4>Meanwhile in the SMB world</h4><p>It makes perfect sense to use public IPv6 addressing in your private network and get rid of NAT forever <em>if and only if</em>: </p>
<ul class="ListParagraph"><li>You’re big enough to have your own PI address space;</li>
<li>You’re willing to buy high-end business-class Internet connection for every single remote site (to persuade the upstream ISP to route a /48 prefix belonging to your PI address space);</li>
</ul>
<p>... or if you have a single L3 device (which also acts as a simple firewall) in your network.</p>
<p>In other words, if you’re a residential user with a single SOHO router/CPE or a Fortune 500 company, you’ll do just fine and you really shouldn’t use ULAs. Unfortunately, these are the <a href="http://telecomoccasionally.wordpress.com/2012/02/20/mid-market-innovators-dilemma/">only two markets most vendors and ISPs care about</a>; in most other cases, <a href="http://blog.ipspace.net/2012/04/ipv6-legends-and-myths-more-opinions.html">you’ll end up with a total operational nightmare</a>:</p>
<ul class="ListParagraph"><li>Remote sites having IPv6 prefixes (somewhat) randomly assigned by their ISPs (which will do wonders to your VPN routing);</li>
<li>Widespread renumbering every time you change an ISP.</li>
</ul>
<p>Do I have to mention that although renumbering a single IPv6 segment works really well (for residential users that don’t mind a short outage), and <a href="http://blog.ipspace.net/2012/04/ipv6-static-addresses-and-renumbering.html">renumbering multiple segments connected to a single router is still manageable</a> (assuming the router is running Cisco IOS, most other vendors start sucking at this point), renumbering anything beyond that becomes an exercise in futility. </p>
<p>Of course you can decide to pay €50/year and have your own PI address space. Good for you, but it <a href="http://blog.ipspace.net/2013/03/predicting-ipv6-bgp-table-size.html">sucks for everyone else</a>.</p>
<p>Add access lists and firewall rules into the mix and you’ll quickly discover the huge gap between rainbow-colored IPv6 heavens promoted by IPv6 evangelists and operational reality. I could <a href="http://blog.ipspace.net/2013/08/temper-your-macgyver-streak.html">hack around the access list issues</a> by marking high-order bits in the IPv6 prefix as don’t-care-bits (so renumbering wouldn’t affect them) ... but that’s not how you <a href="http://www.cisco.com/en/US/docs/ios/ipv6/command/reference/ipv6_10.html#wp2653677">configure IPv6 access lists in Cisco IOS</a> – the don’t care bits are gone; all you can specify is the prefix length.</p>
<p>Oh, and then there’s the <a href="http://blog.ipspace.net/2009/05/lack-of-ipv6-multihoming-elephant-in.html">small site IPv6 multihoming with PA space</a> problem, where it took five years to get to the stage of having an <a href="http://tools.ietf.org/html/draft-troan-homenet-sadr-01">Internet draft</a> that's implemented in the latest Linux kernel. Who knows how long we’ll have to wait for the first commercial products to appear.</p>
<p>Just for the record – I’m not a NAT hugger. I would love to get rid of NAT as much as everyone else, but the sad reality of IPv6 is that the academic theories started meeting the real-life operational needs only a few years ago, and we still have a very long way to go to get the protocol suite we need. In the meantime, <a href="http://blog.ipspace.net/2011/12/we-just-might-need-nat66.html">we’ll have to use kludges like NAT66 and ULAs in mid-market IPv6 implementations</a>, not because we love them, but because they’re the best tools we have at our disposal.</p>
<p>Unfortunately, the following two quotes from Randy Bush (<a href="http://www.ietf.org/mail-archive/web/v6ops/current/msg14625.html">replying to another IPv6 architectural beauty contest</a>) still apply to most IPv6 conversations we have:</p>
<blockquote class="cite">It is cheering to see that the IPv6 ivory tower still stands despite years of attack by reality.</blockquote>
<blockquote class="cite">And how much of good people's time do you plan to waste on this windmill?</blockquote>
<h4>Just in case you’re new to the IPv6 world</h4><p>Need to know more about IPv6? Start with my <a href="http://www.ipspace.net/Enterprise_IPv6_-_the_First_Steps">Enterprise IPv6 – the first steps</a> webinar (there’s also a <a href="http://www.ipspace.net/Service_Provider_IPv6_Introduction">service provider version</a>) or one of the <a href="http://www.ipspace.net/Roadmap/IPv6_webinars">more-advanced IPv6 webinars</a> that cover <a href="http://www.ipspace.net/Building_Large_IPv6_Service_Provider_Networks">IPv6 network design</a>, <a href="http://www.ipspace.net/IPv6_security">IPv6 security</a> and <a href="http://www.ipspace.net/IPv6_Transition_Mechanisms">IPv6 transition mechanisms</a>.</p>

