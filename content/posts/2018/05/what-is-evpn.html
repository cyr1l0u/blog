---
url: /2018/05/what-is-evpn.html
title: "What Is EVPN?"
date: "2018-05-14T10:50:00.000+02:00"
tags: [ EVPN ]
---

<p>EVPN might be the next big thing in networking… or at least all the major networking vendors think so. It’s also a pretty complex technology still facing some interoperability challenges (I love to call it SIP of networking). </p>
<p>To make matters worse, EVPN can easily get even more confusing if you follow some convoluted designs propagated on the ‘net… and the best antidote to that is to invest time into understanding the fundamentals, and to slowly work through more complex scenarios after mastering the basics.<!--more--></p>
<p>We did exactly that in the <a href="http://www.ipspace.net/EVPN_Technical_Deep_Dive">EVPN Technical Deep Dive</a> webinar (after laying the data center groundwork in the <a href="http://www.ipspace.net/Leaf-and-Spine_Fabric_Architectures">Leaf-and-Spine Fabric Architectures</a> webinar); here’s a brief summary of the <em>What Is EVPN </em>part of <a href="http://my.ipspace.net/bin/list?id=EVPN#FUNDAMENTALS">EVPN Fundamentals</a> section:</p>
<ul class="BulletList"><li>EVPN is a multi-tenant BGP-based control plane for layer-2 (bridging) and layer-3 (routing) VPNs. It’s the unifying L2+L3 equivalent of the traditional L3-only MPLS/VPN control plane.</li>
<li>EVPN was designed to be used with MPLS data plane to replace VPLS in service provider networks, and got adopted (with VXLAN encapsulation) as the control plane used by the Network Virtualization Overlays (NVO) IETF workgroup.</li>
<li>In theory you could use EVPN with almost any data-plane encapsulation (RFCs define extended BGP community values for MPLS, VXLAN, MPLS-over-GRE, MPLS-over-UDP, NVGRE…). In practice, it’s used with either MPLS or VXLAN.</li>
<li>Like MPLS/VPN, EVPN uses Route Distinguishers to make locally-significant identifiers globally unique, and Route Targets to indicate VPN membership. Route Distinguishers usually use IP-address-based format, Route Targets usually use ASN-based format.</li>
<li>EVPN defines a mechanism to generate RD and RT values automatically from VLAN or VXLAN identifiers.</li>
<li>EVPN replaces flood-and-learn behavior of traditional Ethernet bridges (or VPLS or simpler VXLAN implementations) with BGP control plane – MAC addresses are propagated as BGP prefixes within the EVPN address family.</li>
<li>EVPN implementations could use dynamic IP address discovery using DHCP reply snooping, ARP request snooping, or IP packet header gleaning, and advertise IP-to-MAC bindings in EVPN BGP updates.</li>
<li>You can use EVPN to implement end-to-end bridging, integrated bridging and routing, or routing-only fabrics.</li>
<li>EVPN supports MAC and IP address mobility (available in most implementations) and a standard-based MLAG functionality (available in Junos and recent NX-OS).</li>
<li>Decent EVPN implementations can reduce flooding by turning off unknown unicast flooding, and eliminating ARP flooding with local ARP proxy.</li>
</ul>
<p>Want to know more? <a href="http://my.ipspace.net/bin/list?id=EVPN#FUNDAMENTALS">Start here</a>.</p>

