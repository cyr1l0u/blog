---
title: "Recovering from disabled password recovery might not be possible"
date: "2007-12-05T07:34:00.000+01:00"
tags: [ 2800,security ]
---

<p>IOS release 12.3T (and 12.4) introduced a great security feature: the <a href="http://www.cisco.com/en/US/products/ps6350/products_configuration_guide_chapter09186a008044cbc9.html">ability to disable password recovery</a> (using the well-known break key sequence) with the <strong>no service password-recovery</strong> global configuration command. However, once you configure this feature on some routers, you might have no means whatsoever to get it under control if you forget the password.</p>
<p>The <a href="http://www.cisco.com/en/US/products/hw/routers/ps274/products_configuration_example09186a00801d8113.shtml">IOS documentation</a> states that you should be able to erase NVRAM (thus losing the config, but protecting the password integrity) if you press the break key a few seconds after the <em>Image text-base: 0x........, data-base: 0x........</em> message appears. Unfortunately, that does not work on the router I've been doing my tests on (2811 with c2800nm-advipservicesk9-mz.124-6.T.bin and ROMMON Version 12.4(1r)). There was simply no way to erase NVRAM, so the router would remain locked up if I had really forgotten the enable password.</p>
<p class="note"><span>Note: </span>After my tests, I was told that pressing the break key as soon as the router is powered up might work.</p>
<p><strong>Moral of the story:</strong> test whether you can recover the router with your particular combination of IOS/ROMMON versions before disabling password recovery (and forgetting the password).</p>

