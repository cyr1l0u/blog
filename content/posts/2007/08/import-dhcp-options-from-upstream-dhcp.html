---
title: "Import DHCP options from an upstream DHCP server"
date: "2007-08-16T07:38:00.001+02:00"
tags: [ DHCP ]
---

<p>If your router gets its IP address from an upstream DHCP server, it can automatically import the other DHCP options (DNS server, WINS server, domain prefix etc.) into its DHCP pools. For example, if you use a router to connect to a cable or MAN Ethernet ISP (see the following figure), you can use the DHCP option import to minimize your router configuration (and make it fail safe from any changes in the ISP network).</p>
<p><a href="http://bp1.blogger.com/_K_pkZO5-tTg/RqXQoNRacUI/AAAAAAAAAHI/InSZLgM8ITE/s1600-h/DHCPImport.jpg"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;" src="http://bp1.blogger.com/_K_pkZO5-tTg/RqXQoNRacUI/AAAAAAAAAHI/InSZLgM8ITE/s400/DHCPImport.jpg" border="0" alt=""id="BLOGGER_PHOTO_ID_5090704342988255554" /></a></p>
<p>To configure the DHCP option import, use the <strong>import all</strong> DHCP pool configuration command. You cannot select which options you want to import, but you can override them with other DHCP pool configuration commands.<p class='note'>The import only happens when a DHCP reply is received. To force an immediate import, use the <strong>renew dhcp <em>interface</em></strong> exec-level command.</p>
<script>startHide()</script>The sample configuration for the above network topology is included below:<pre class='code'>ip dhcp pool LAN<br /> import all<br /> network 10.0.0.0 255.255.255.0<br /> default-router 10.0.0.1<br />!<br />interface FastEthernet0/0<br /> description *** Internal LAN ***<br /> ip address 10.0.0.1 255.255.255.0<br />!<br />interface FastEthernet0/1<br /> description *** Public LAN interface ***<br /> ip address dhcp client-id FastEthernet0/1</pre><script>endHide()</script>

