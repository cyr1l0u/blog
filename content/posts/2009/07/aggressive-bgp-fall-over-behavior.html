---
title: "Aggressive BGP fall-over behavior"
date: "2009-07-29T07:05:00.000+02:00"
tags: [ BGP ]
---

<div class="bloggerBody"><p><a href="http://wiki.nil.com/"><img src="http://www.ioshints.info/images/Wiki.png" class="ImgFLTright"></a>Soon after I wrote the <a href="http://www.nil.com/ipcorner/DesigningBGPNetworks/">Designing Fast Converging BGP Networks</a> article, one of my regular readers sent me an interesting problem: BGP sessions would be lost in his (IS-IS based) core network if he would use <strong>fall-over </strong>on IBGP neighbors and the BGP router would have a primary and a backup path to the IBGP neighbor.</p>
<p>We’ve identified the source of the problem (delayed SPF run) and I decided to document it. It took “a while” (and a kind nudge from Mateusz following a discussion on Cisco-NSP mailing list) to find time to set up the test lab and document the behavior. You can find the (undesired) results in the <a href="http://wiki.nil.com/Aggressive_BGP_fall-over_behavior">Aggressive BGP fall-over behavior</a> in the <a href="http://wiki.nil.com/">CT3 wiki</a>.</p>
<p class="note">Just in case someone from Cisco wants to put this on a wish list: please add a configurable delay to the <strong>neighbor fall-over </strong>command like you did with the <strong>bgp nexthop trigger delay </strong>command.</p>
</div>

