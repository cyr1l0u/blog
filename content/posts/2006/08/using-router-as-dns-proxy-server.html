---
title: "Using a router as a DNS proxy server"
date: "2006-08-14T16:58:00.001+02:00"
tags: [ DNS ]
---

A Cisco router running IOS  release 12.3 can act as a proxy DNS server - when you configure <STRONG>ip dns server </STRONG>and <STRONG>ip name-server <EM>ip-address</EM></STRONG>, it starts forwarding any received DNS requests to the upstream name server.<p class='important'>The router does not act as a <EM>recursive  </EM>server, it just propagates the requests. For example, if the client asks  for A record for <A href="http://www.nil.com">www.nil.com</A> and the upstream  DNS server responds with a NS record for the .com tree, the router will not  perform recursive DNS lookups to get the answer (and the resolver code in most  clients will fail). The upstream DNS server has to be willing to perform recursive lookups for you.</p>
<p class='info'>You can use this  functionality (potentially in combination with other external proxies) to set up  an environment where the clients do not need to access the Internet  directly.</p>

